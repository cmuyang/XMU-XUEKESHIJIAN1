{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/objectWithoutProperties.js?4082","webpack:///./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js?f0e4","uni-app:///uni_modules/uni-id-pages/common/check-id-card.js","uni-app:///uni_modules/uni-id-pages/common/login-page.mixin.js","uni-app:///uni_modules/uni-id-pages/pages/register/validator.js","uni-app:///uni_modules/uni-id-pages/common/password.js"],"names":["objectWithoutPropertiesLoose","require","_objectWithoutProperties","source","excluded","target","key","i","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","prototype","propertyIsEnumerable","call","module","exports","__esModule","_objectWithoutPropertiesLoose","sourceKeys","keys","checkIdCard","idCardNumber","coefficient","checkCode","code","substring","sum","Number","charAt","toString","toLowerCase","mixin","data","config","uniIdRedirectUrl","isMounted","onUnload","mounted","onLoad","e","is_weixin_redirect","uni","showLoading","mask","window","location","href","includes","paramsArr","split","forEach","item","arr","$nextTick","n","$refs","uniFabLogin","login","decodeURIComponent","getCurrentPages","hideHomeButton","console","log","computed","needAgreements","agreements","agree","get","isAgree","set","methods","loginSuccess","mutations","required","errorMessage","minLength","maxLength","validateFunction","rule","value","callback","test","passwordMod","getPwdRules","passwordStrength","passwordRules","super","strong","medium","weak","ERROR","normal","noPwd","noRePwd","rePwdErr","passwordStrengthError","validPwd","password","RegExp","pwdName","rePwdName","rules","checkRes"],"mappings":"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","file":"uni_modules/uni-id-pages/pages/common/vendor.js","sourcesContent":["var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nmodule.exports = _objectWithoutProperties, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function checkIdCard (idCardNumber) {\r\n  if (!idCardNumber || typeof idCardNumber !== 'string' || idCardNumber.length !== 18) return false\r\n\r\n  const coefficient = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]\r\n  const checkCode = [1, 0, 'x', 9, 8, 7, 6, 5, 4, 3, 2]\r\n  const code = idCardNumber.substring(17)\r\n\r\n  let sum = 0\r\n  for (let i = 0; i < 17; i++) {\r\n    sum += Number(idCardNumber.charAt(i)) * coefficient[i]\r\n  }\r\n\r\n  return checkCode[sum % 11].toString() === code.toLowerCase()\r\n}\r\n\r\nexport default checkIdCard\r\n","import {\r\n\tmutations\r\n} from '@/uni_modules/uni-id-pages/common/store.js'\r\nimport config from '@/uni_modules/uni-id-pages/config.js'\r\nconst mixin = {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tconfig,\r\n\t\t\tuniIdRedirectUrl: '',\r\n\t\t\tisMounted: false\r\n\t\t}\r\n\t},\r\n\tonUnload() {\r\n\r\n\r\n\r\n\t},\r\n\tmounted() {\r\n\t\tthis.isMounted = true\r\n\t},\r\n\tonLoad(e) {\r\n\t\tif (e.is_weixin_redirect) {\r\n\t\t\tuni.showLoading({\r\n\t\t\t\tmask: true\r\n\t\t\t})\r\n\r\n\t\t\tif (window.location.href.includes('#')) {\r\n\t\t\t\t// 将url通过 ? 分割获取后面的参数字符串 再通过 & 将每一个参数单独分割出来\r\n\t\t\t\tconst paramsArr = window.location.href.split('?')[1].split('&')\r\n\t\t\t\tparamsArr.forEach(item => {\r\n\t\t\t\t\tconst arr = item.split('=')\r\n\t\t\t\t\tif (arr[0] == 'code') {\r\n\t\t\t\t\t\te.code = arr[1]\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tthis.$nextTick(n => {\r\n\t\t\t\t// console.log(this.$refs.uniFabLogin);\r\n\t\t\t\tthis.$refs.uniFabLogin.login({\r\n\t\t\t\t\tcode: e.code\r\n\t\t\t\t}, 'weixin')\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (e.uniIdRedirectUrl) {\r\n\t\t\tthis.uniIdRedirectUrl = decodeURIComponent(e.uniIdRedirectUrl)\r\n\t\t}\r\n\r\n\r\n\t\tif (getCurrentPages().length === 1) {\r\n\t\t\tuni.hideHomeButton()\r\n\t\t\tconsole.log('已隐藏：返回首页按钮');\r\n\t\t}\r\n\r\n\t},\r\n\tcomputed: {\r\n\t\tneedAgreements() {\r\n\t\t\tif (this.isMounted) {\r\n\t\t\t\tif (this.$refs.agreements) {\r\n\t\t\t\t\treturn this.$refs.agreements.needAgreements\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tagree: {\r\n\t\t\tget() {\r\n\t\t\t\tif (this.isMounted) {\r\n\t\t\t\t\tif (this.$refs.agreements) {\r\n\t\t\t\t\t\treturn this.$refs.agreements.isAgree\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tset(agree) {\r\n\t\t\t\tif (this.$refs.agreements) {\r\n\t\t\t\t\tthis.$refs.agreements.isAgree = agree\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('不存在 隐私政策协议组件');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tloginSuccess(e) {\r\n\t\t\tmutations.loginSuccess({\r\n\t\t\t\t...e,\r\n\t\t\t\tuniIdRedirectUrl: this.uniIdRedirectUrl\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default mixin\r\n","import passwordMod from '@/uni_modules/uni-id-pages/common/password.js'\r\nexport default {\r\n\t\"username\": {\r\n\t\t\"rules\": [{\r\n\t\t\t\trequired: true,\r\n\t\t\t\terrorMessage: '请输入用户名',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tminLength: 3,\r\n\t\t\t\tmaxLength: 32,\r\n\t\t\t\terrorMessage: '用户名长度在 {minLength} 到 {maxLength} 个字符',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tvalidateFunction: function(rule, value, data, callback) {\r\n\t\t\t\t\t// console.log(value);\r\n\t\t\t\t\tif (/^1\\d{10}$/.test(value) || /^(\\w-*\\.*)+@(\\w-?)+(\\.\\w{2,})+$/.test(value)) {\r\n\t\t\t\t\t\tcallback('用户名不能是：手机号或邮箱')\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (/^\\d+$/.test(value)) {\r\n\t\t\t\t\t\tcallback('用户名不能为纯数字')\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif(/[\\u4E00-\\u9FA5\\uF900-\\uFA2D]{1,}/.test(value)){\r\n\t\t\t\t\t\tcallback('用户名不能包含中文')\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"label\": \"用户名\"\r\n\t},\r\n\t\"nickname\": {\r\n\t\t\"rules\": [{\r\n\t\t\t\tminLength: 3,\r\n\t\t\t\tmaxLength: 32,\r\n\t\t\t\terrorMessage: '昵称长度在 {minLength} 到 {maxLength} 个字符',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tvalidateFunction: function(rule, value, data, callback) {\r\n\t\t\t\t\t// console.log(value);\r\n\t\t\t\t\tif (/^1\\d{10}$/.test(value) || /^(\\w-*\\.*)+@(\\w-?)+(\\.\\w{2,})+$/.test(value)) {\r\n\t\t\t\t\t\tcallback('昵称不能是：手机号或邮箱')\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (/^\\d+$/.test(value)) {\r\n\t\t\t\t\t\tcallback('昵称不能为纯数字')\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif(/[\\u4E00-\\u9FA5\\uF900-\\uFA2D]{1,}/.test(value)){\r\n\t\t\t\t\t\tcallback('昵称不能包含中文')\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"label\": \"昵称\"\r\n\t},\r\n\t...passwordMod.getPwdRules()\r\n}\r\n","// 导入配置\r\nimport config from '@/uni_modules/uni-id-pages/config.js'\r\n\r\nconst {passwordStrength} = config\r\n\r\n// 密码强度表达式\r\nconst passwordRules = {\r\n\t// 密码必须包含大小写字母、数字和特殊符号\r\n\tsuper: /^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[~!@#$%^&*_\\-+=`|\\\\(){}[\\]:;\"'<>,.?/])[0-9a-zA-Z~!@#$%^&*_\\-+=`|\\\\(){}[\\]:;\"'<>,.?/]{8,16}$/,\r\n\t// 密码必须包含字母、数字和特殊符号\r\n\tstrong: /^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[~!@#$%^&*_\\-+=`|\\\\(){}[\\]:;\"'<>,.?/])[0-9a-zA-Z~!@#$%^&*_\\-+=`|\\\\(){}[\\]:;\"'<>,.?/]{8,16}$/,\r\n\t// 密码必须为字母、数字和特殊符号任意两种的组合\r\n\tmedium: /^(?![0-9]+$)(?![a-zA-Z]+$)(?![~!@#$%^&*_\\-+=`|\\\\(){}[\\]:;\"'<>,.?/]+$)[0-9a-zA-Z~!@#$%^&*_\\-+=`|\\\\(){}[\\]:;\"'<>,.?/]{8,16}$/,\r\n\t// 密码必须包含字母和数字\r\n\tweak: /^(?=.*[0-9])(?=.*[a-zA-Z])[0-9a-zA-Z~!@#$%^&*_\\-+=`|\\\\(){}[\\]:;\"'<>,.?/]{6,16}$/\r\n}\r\n\r\nconst ERROR = {\r\n\tnormal: {\r\n\t\tnoPwd: '请输入密码',\r\n\t\tnoRePwd: '再次输入密码',\r\n\t\trePwdErr: '两次输入密码不一致'\r\n\t},\r\n\tpasswordStrengthError: {\r\n\t\tsuper: '密码必须包含大小写字母、数字和特殊符号，密码长度必须在8-16位之间',\r\n\t\tstrong: '密码必须包含字母、数字和特殊符号，密码长度必须在8-16位之间',\r\n\t\tmedium: '密码必须为字母、数字和特殊符号任意两种的组合，密码长度必须在8-16位之间',\r\n\t\tweak: '密码必须包含字母，密码长度必须在6-16位之间'\r\n\t}\r\n}\r\n\r\nfunction validPwd(password) {\r\n\t//强度校验\r\n\tif (passwordStrength && passwordRules[passwordStrength]) {\r\n\t\tif (!new RegExp(passwordRules[passwordStrength]).test(password)) {\r\n\t\t\treturn ERROR.passwordStrengthError[passwordStrength]\r\n\t\t}\r\n\t}\r\n\treturn true\r\n}\r\n\r\nfunction getPwdRules(pwdName = 'password', rePwdName = 'password2') {\r\n\tconst rules = {}\r\n\trules[pwdName] = {\r\n\t\trules: [{\r\n\t\t\t\trequired: true,\r\n\t\t\t\terrorMessage: ERROR.normal.noPwd,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tvalidateFunction: function(rule, value, data, callback) {\r\n\t\t\t\t\tconst checkRes = validPwd(value)\r\n\t\t\t\t\tif (checkRes !== true) {\r\n\t\t\t\t\t\tcallback(checkRes)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tif (rePwdName) {\r\n\t\trules[rePwdName] = {\r\n\t\t\trules: [{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\terrorMessage: ERROR.normal.noRePwd,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalidateFunction: function(rule, value, data, callback) {\r\n\t\t\t\t\t\tif (value != data[pwdName]) {\r\n\t\t\t\t\t\t\tcallback(ERROR.normal.rePwdErr)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n\treturn rules\r\n}\r\n\r\nexport default {\r\n\tERROR,\r\n\tvalidPwd,\r\n\tgetPwdRules\r\n}\r\n"],"sourceRoot":""}